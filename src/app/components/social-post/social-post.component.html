<div class="post-card w-full">
    <div class="post-header">
        <div class="avatar">{{ user[0] }}</div>
        <div class="info space-x-2 flex flex-col">
            <strong>{{ user }}</strong>
            <span>{{ time }}</span>
        </div>
    </div>

    <p class="post-text">{{ text }}</p>

    <div *ngIf="images.length > 0" #carousel class="carousel carousel-center  rounded-box gap-4">
        <div class="carousel-item w-full flex-shrink-0 snap-center" *ngFor="let imgUrl of images; let i = index"
            (click)="scrollTo(i)">
            <img [src]="imgUrl" alt="post image" class="w-full object-cover rounded-lg" />
        </div>
    </div>

    <div class="flex justify-center mt-3 space-x-2">
        <button *ngFor="let img of images; let i = index" class="w-2 h-2 rounded-full transition-all focus:outline-none"
            [class.bg-white]="currentIndex === i" [class.bg-gray-500]="currentIndex !== i"
            [class.w-3]="currentIndex === i" [attr.aria-label]="'Ir a imagen ' + (i + 1)" (click)="scrollTo(i)">
        </button>
    </div>

    <div class="post-footer gap-5">
        <span (click)="show = true" class="flex items-center gap-2"><svg id='Heart_Outline_24' width='24' height='24'
                viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
                <rect width='24' height='24' stroke='none' fill='#fffff' opacity='0' />
                <g transform="matrix(0.5 0 0 0.5 12 12)">
                    <path
                        style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(214, 214, 214); fill-rule: nonzero; opacity: 1;"
                        transform=" translate(-25, -26.66)"
                        d="M 16.375 9 C 10.117188 9 5 14.054688 5 20.28125 C 5 33.050781 19.488281 39.738281 24.375 43.78125 L 25 44.3125 L 25.625 43.78125 C 30.511719 39.738281 45 33.050781 45 20.28125 C 45 14.054688 39.882813 9 33.625 9 C 30.148438 9 27.085938 10.613281 25 13.0625 C 22.914063 10.613281 19.851563 9 16.375 9 Z M 16.375 11 C 19.640625 11 22.480469 12.652344 24.15625 15.15625 L 25 16.40625 L 25.84375 15.15625 C 27.519531 12.652344 30.359375 11 33.625 11 C 38.808594 11 43 15.144531 43 20.28125 C 43 31.179688 30.738281 37.289063 25 41.78125 C 19.261719 37.289063 7 31.179688 7 20.28125 C 7 15.144531 11.1875 11 16.375 11 Z"
                        stroke-linecap="round" />
                </g>
            </svg> {{ likes }}</span>
        <span class="flex items-center justify-center gap-2">
            <svg id='Star_24' width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'
                xmlns:xlink='http://www.w3.org/1999/xlink'>
                <rect width='24' height='24' stroke='none' fill='#000000' opacity='0' />
                <g transform="matrix(0.4 0 0 0.4 12 12)">
                    <path
                        style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(214, 214, 214); fill-rule: nonzero; opacity: 1;"
                        transform=" translate(-25, -24.8)"
                        d="M 25 1 C 24.587448437819113 1.0003573899416984 24.21745171913152 1.2540028470630233 24.068359 1.638671900000001 L 17.902344 17.535156 L 0.94921875 18.400391 C 0.5361244089496604 18.421301271604477 0.1785245802706652 18.694352310895226 0.04954463953851285 19.08735148259298 C -0.07943530119363951 19.480350654290728 0.04682045204112695 19.912200156205603 0.36718749999999956 20.173828 L 13.568359 30.966797 L 9.2324219 47.34375 C 9.12646962864894 47.742800908399424 9.276630584445037 48.1659432996735 9.610426980225581 48.40894016686066 C 9.944223376006123 48.65193703404781 10.393034545033865 48.66483395207868 10.740234 48.441406 L 25 39.289062 L 39.259766 48.441406 C 39.60696545264548 48.66483388017553 40.055776569605634 48.651936924345584 40.38957292468266 48.408940070673886 C 40.72336927975969 48.16594321700219 40.873530228824 47.742800877413245 40.767578 47.34375 L 36.431641 30.966797 L 49.632812 20.173828 C 49.95317902219769 19.912200187302915 50.079434793103644 19.480350742069874 49.950454914740824 19.087351591605163 C 49.821475036378004 18.69435244114045 49.46387529654981 18.421301366962094 49.050781 18.400391 L 32.097656 17.535156 L 25.931641 1.6386719 C 25.782548280868475 1.2540028470630227 25.412551562180887 1.0003573899416978 25 1 z M 25 4.7636719 L 30.466797 18.861328 C 30.60968898779115 19.229141631031354 30.955496183370457 19.478551484728474 31.349609 19.498047 L 46.359375 20.265625 L 34.667969 29.826172 C 34.36460539586974 30.074211371141768 34.23404925803034 30.47656788718194 34.333984 30.855469 L 38.175781 45.369141 L 25.541016 37.257812 C 25.211478939746424 37.04585360168865 24.788521060253576 37.04585360168865 24.458984 37.257812 L 11.824219 45.369141 L 15.666016 30.855469 C 15.765950741969661 30.47656788718194 15.635394604130266 30.074211371141768 15.332031 29.826172 L 3.640625 20.265625 L 18.650391 19.498047 C 19.044503816629543 19.478551484728474 19.39031101220885 19.229141631031354 19.533203 18.861328 L 25 4.7636719 z"
                        stroke-linecap="round" />
                </g>
            </svg>
        </span>
        <span (click)="showComments = true" class="flex items-center gap-2">
            <svg id='message-circle-2_24' width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'
                xmlns:xlink='http://www.w3.org/1999/xlink'>
                <rect width='24' height='24' stroke='none' fill='#000000' opacity='0' />
                <g transform="matrix(1 0 0 1 12 12)">
                    <g>
                        <g transform="matrix(1 0 0 1 0 0)">
                            <path
                                style="stroke: none; stroke-width: 2; stroke-dasharray: none; stroke-linecap: round; stroke-dashoffset: 0; stroke-linejoin: round; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;"
                                transform=" translate(-12, -12)" d="M 0 0 L 24 0 L 24 24 L 0 24 z"
                                stroke-linecap="round" />
                        </g>
                        <g transform="matrix(1 0 0 1 0.01 -0.01)">
                            <path
                                style="stroke: rgb(214, 214, 214); stroke-width: 2; stroke-dasharray: none; stroke-linecap: round; stroke-dashoffset: 0; stroke-linejoin: round; stroke-miterlimit: 4; fill: none; fill-rule: nonzero; opacity: 1;"
                                transform=" translate(-12.01, -11.99)"
                                d="M 3 20 L 4.3 16.1 C 1.9761174147637677 12.663009706393852 2.8738762839310747 8.227707321782525 6.399767548460441 5.726274565848396 C 9.92565881298981 3.224841809914267 14.990227941838622 3.430188862125 18.245284500640466 6.206560632867749 C 21.50034105944231 8.982932403610498 21.940114917829877 13.472466134630796 19.273871249507618 16.70712772262393 C 16.607627581185362 19.94178931061706 11.65920099345933 20.92211040586947 7.700000000000003 19 L 2.999999999999999 20"
                                stroke-linecap="round" />
                        </g>
                    </g>
                </g>
            </svg>
            {{ comments }}</span>
    </div>
</div>

<app-bottom-modal *ngIf="show" (closeModal)="show = false"></app-bottom-modal>
<app-bottom-modal-comments *ngIf="showComments" [user]="'Venga La Alegría'" [time]="'hace 3 h'"
    [text]="'¡Qué buen día para compartir!'" [comments]="[
    { user: 'Ana', text: 'Qué bonito!' },
    { user: 'Luis', text: 'Me encanta esta publicación' }
  ]" (closeModal)="showComments = false"></app-bottom-modal-comments>